# ИДЗ-4. Построение многопоточных приложений.

## Вариант 19.

# Условие задачи

Задача о магазине - 2 (забывчивые покупатели). В магазине работают два отдела, каждый отдел обладает уникальным ассортиментом. В каждом отделе работает один продавец. В магазин ходят исключительно забывчивые покупатели, поэтому каждый покупатель носит с собой список товаров, которые желает купить. Покупатель приобретает товары точно в том порядке, в каком они записаны в его списке. При этом товары в списке расположены в случайном порядке, что заставляет покупателя переходить от отдела к отделу, если это требуется для совершения покупок. Продавец может обслужить только одного покупателя за раз. Покупатель, вставший в очередь, засыпает пока не дойдет до продавца. Продавец засыпает, если в его отделе нет покупателей, и просыпается, если появится хотя бы один. Создать многопоточное приложение,моделирующее работу магазина в течение рабочего дня.

# Оглавление

### Введение

- [О программе](#О-программе)
  - [Входные данные](#Входные-данные)
  - [Аргументы запуска](#Аргументы-запуска)
- [Представленные файлы](#Представленные-файлы)
- [О тестировании](#О-тестировании)

### Отчет

- [Mark 4](#Mark-4)
- [Mark 5](#Mark-5)

### Прочее

- [Checklist](#Checklist)

# Введение

## О программе

Программа изначально разрабатывалась с учетом всех требований включительно **до оценки 8**.
Поэтому, с самого начала присутствует работа с файлами, генерация случайных данных и прочее.

## Входные данные

При вводе значений, программа подразумевает, что пользователь вводит данные в корректном формате. Программа обрабатывает критические случаи (к примеру, отсутствие пути к файлу, при наличии аргумента `--input_file`), однако считается, что данные для генерации Покупателей соответствуют требованиям ниже.

Так как АВС это не КПО, не вижу смысла уделять большую часть времени разработки программы на валидацию всех возможных ситуаций.

## Аргументы запуска

|Аргумент|Описание|Пример|
|---|---|---|
|*Ввод*|*Допустимо одновременное использование только одного аргумента*|
|`--input_file <входной файл>`|Получение данных для создания Покупателей из файла||
|`--random <кол-во покупателей>`|Запуск программы в режиме генерацией случайных данных||
|`--data <кол-во-покупателей_данные>`|Получение данных для создания Покупателей из аргумента|`./a.out --data 2mbmbmbm;mmmmm;`|
|*Вывод*||
|`--output_file <выходной файл>`|Дублирование выхода программы в файл|

## Представленные файлы

```
| /cpp-source - исходный код программы на языке C++
| /results - Результаты прогонов на разных наборах данных
```

# Mark 4
## Модель параллельных вычислений
Скорее всего, данная задача представляет модель "Клиент-Сервер"
## Результаты выполнения программы
Ознакомиться с результатами работы программы можно ознакомиться в каталоге (/results)[/results].

# Mark 5
## Сценарий поведения представленных в условии задания сущностей

### Customer
Каждый покупатель носит с собой список товаров, которые он желает купить.
Придя в магазин, он смотрит первый невычеркнутый товар, определяет отдел в который следует обратиться.Покупатель, встает в очередь, ждет пока она не закончится, и затем обращается к продавцу - производит покупку. После этого, покупатель покидает отдел повторяет процесс снова.

### Consultant
Продавец ждет, кто-нибудь не встанет в очередь. Как только, приходит покупатель, он помогает ему совершить покупку если в его отделе нет покупателей, и просыпается, если появится хотя бы один.
Разумеется, Продавец может обслужить только одного покупателя за раз.   
 
### Department
Абстракция 

# Mark 6
Дополнительных изменений не потребовалось.


# Mark 7
Дополнительных изменений не потребовалось.
Ознакомиться с результатами работы программы в файловом режиме можно ознакомиться в каталоге (/results)[/results].

# Mark 8
Дополнительных изменений не потребовалось.
Ознакомиться с результатами работы программы в режиме генерации случайных данных можно ознакомиться в каталоге (/results)[/results].

# Checklist

### 4 балла
- [x] Приведено условие задачи.
- [x] Описана модель параллельных вычислений, используемая при разработке многопоточной программы.
- [x] Описаны входные данные программы, включающие вариативные
диапазоны, возможные при многократных запусках.
- [x] Реализовано консольное приложение, решающее поставленную задачу с использованием одного варианта синхропримитивов.
- [x] Ввод данных в приложение реализован с консоли.
- [ ] Результаты работы приведены в отчете.

### 5 баллов
В дополнение к требованиям на предыдущую оценку
- [x] В программу добавлены комментарии, поясняющие выполняемые
действия и описание используемых переменных.
- [x] В отчете должен быть приведен сценарий, описывающий одновременное поведение представленных в условии задания сущностей в терминах предметной области. То есть, описано поведение объектов
разрабатываемой программы как взаимодействующих субъектов, а не то, как это будет реализовано в программе.

### 6 баллов
В дополнение к требованиям на предыдущую оценку
- [ ] В отчете подробно описан обобщенный алгоритм, используемый
при реализации программы исходного словесного сценария. В котором показано, как на программу отображается каждый из субъектов предметной области.
- [x] Реализован ввод данных из командной строки.
- [ ] Результаты изменений отражены в отчете.

### 7 баллов
В дополнение к требованиям на предыдущую оценку
- [x] В программу добавлены ввод данных из файла и вывод результатов
в файл.
- [x] Приведены входные и выходные файлы с различными результатами выполнения программы.
- [x] Результаты работы программы должны выводиться на экран и записываться в файл.
- [x] Ввод данных из командной строки расширен с учетом введенных
изменений.
- [x] Результаты изменений отражены в отчете.

### 8 баллов
В дополнение к требованиям на предыдущую оценку
- [x] В программу добавлена генерация случайных данных в допустимых диапазонах.
- [x] Приведены входные и выходные файлы с различными результатами выполнения программы.
- [x] Ввод данных из командной строки расширен с учетом введенных
изменений.
- [x] Результаты изменений отражены в отчете.